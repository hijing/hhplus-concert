### 유저 대기열 토큰 기능
```mermaid
sequenceDiagram
    사용자 ->> 대기열 토큰 : 대기열 요청
    대기열 토큰 ->> DB : 토큰 발급 요청
    DB ->> DB : 토큰 생성
    DB ->> 대기열 토큰 : 토큰 생성 응답
    대기열 토큰 ->> 사용자 : 대기열 응답
```

### 예약 가능 날짜 / 좌석 API
```mermaid
sequenceDiagram
    사용자 ->> 토큰 컨트롤러 : API 요청
    토큰 컨트롤러 ->> 토큰 서비스 : 토큰 검증 요청
    토큰 서비스 ->> 토큰 서비스 : 토큰 검증
    토큰 서비스 ->> 토큰 컨트롤러 : 토큰 검증 응답
    토큰 컨트롤러 ->> 예약 좌석 : 예약 가능 날짜 / 좌석 요청
    예약 좌석 ->> DB : 예약 가능 날짜 / 좌석 요청
    DB ->> DB : 좌석 조회
    DB ->> 예약 좌석 : 예약 가능 날짜 / 좌석 요청
    예약 좌석 ->> 사용자 : API 응답
```

### 좌석 예약 요청 API
```mermaid
sequenceDiagram
    사용자 ->> 토큰 컨트롤러 : API 요청
    토큰 컨트롤러 ->> 토큰 서비스 : 토큰 검증 요청
    토큰 서비스 ->> 토큰 서비스 : 토큰 검증
    토큰 서비스 ->> 토큰 컨트롤러 : 토큰 검증 응답
    토큰 컨트롤러 ->> 좌석 예약  : 좌석 예약 요청
    좌석 예약 ->> DB : 좌석 예약 요청
    DB ->> DB  : 좌석 예약
    DB ->> 좌석 예약  : 좌석 예약 응답
    좌석 예약 ->> 사용자 : API 응답
```

### 잔액 충전 / 조회 API
```mermaid
sequenceDiagram
    사용자 ->> 토큰 컨트롤러 : API 요청
    토큰 컨트롤러 ->> 토큰 서비스 : 토큰 검증 요청
    토큰 서비스 ->> 토큰 서비스 : 토큰 검증
    토큰 서비스 ->> 토큰 컨트롤러 : 토큰 검증 응답
    토큰 컨트롤러 ->> 잔액 정보 : 잔액 충전 / 조회 요청
    잔액 정보 ->> DB : 잔액 충전 / 조회 요청
    DB ->> DB : 잔액 충전 / 조회
    DB ->> 잔액 정보 : 잔액 충전 / 조회 응답
    잔액 정보 ->> 사용자 : API 응답
```

### 결제 API
```mermaid
sequenceDiagram
    사용자 ->> 토큰 컨트롤러 : API 요청
    토큰 컨트롤러 ->> 토큰 서비스 : 토큰 검증 요청
    토큰 서비스 ->> 토큰 서비스 : 토큰 검증
    토큰 서비스 ->> 토큰 컨트롤러 : 토큰 검증 응답
    토큰 컨트롤러 ->> 결제 : 결제 요청
    결제 ->> 좌석 : 유효한 좌석 체크
    좌석 ->> 결제 : 유효한 좌석
    결제 ->> 잔액 : 잔액 차감
    잔액 ->> DB : 잔액 검증 요청
    DB ->> DB : 잔액 검증
    DB ->> 잔액 : 잔액 검증 응답
    잔액 ->> 결제 : 결제 성공
    결제 ->> 좌석 : 결제 완료 (좌석배정)
    결제 ->> 잔액 : 잔액 차감 요청
    잔액 ->> 결제 : 잔액 차감
    결제 ->> 사용자 : API 응답
```